{
  "description": {
    "spec-version": {
      "Right": ">=1.6"
    },
    "package": {
      "name": "websockets",
      "version": [
        0,
        1,
        2,
        5
      ]
    },
    "license": {
      "Right": "BSD3"
    },
    "license-files": [
      "LICENCE"
    ],
    "copyright": "(c) 2010 Siniša Biđin",
    "maintainer": "Siniša Biđin <sinisa@bidin.cc>",
    "author": "Siniša Biđin",
    "stability": "experimental",
    "tested-with": [
      {
        "compiler": "GHC",
        "versionRange": "==6.12"
      }
    ],
    "homepage": "",
    "pkg-url": "",
    "bug-reports": "mailto:sinisa@bidin.cc",
    "source-repos": [],
    "synopsis": "Server-side WebSocket protocol handshake and communication.",
    "description": "\nA library for creating WebSocket-capable servers, where the implemented protocol is defined here: <http://is.gd/eSdLB>.\n\nThis library is only tested with Chromium >=7 and Firefox >=4 and is a work in progress.\n\nHow do you use this library? Here's how:\n\n* Get a 'Handle' to your connected client.\n\n* Perform the initial handshake with 'shakeHands' (or 'getRequest' and 'putResponse').\n\n* Send and receive strict bytestrings with 'putFrame' and 'getFrame'.\n\nAnd here's a short example of a server that accepts clients, greets them with a welcome message, checks for disconnects and replies to all messages by echoing them back with an appended meow:\n\n> import Network.WebSockets (shakeHands, getFrame, putFrame)\n> import Network (listenOn, PortID(PortNumber), accept, withSocketsDo)\n> import System.IO (Handle, hClose)\n> import qualified Data.ByteString as B (append, null)\n> import Data.ByteString.UTF8 (fromString) -- this is from utf8-string\n> import Control.Monad (forever)\n> import Control.Concurrent (forkIO)\n>\n> main :: IO ()\n> main = withSocketsDo $ do\n>   socket <- listenOn (PortNumber 12345)\n>   putStrLn \"Listening on port 12345.\"\n>   forever $ do\n>     (h, _, _) <- accept socket\n>     forkIO (talkTo h)\n>\n>\n> talkTo :: Handle -> IO ()\n> talkTo h = do\n>   request <- shakeHands h\n>   case request of\n>     Left error -> putStrLn error\n>     Right rqst -> do\n>       putFrame h (fromString \"滴水之恩当以涌泉相报\")\n>       putStrLn \"Shook hands, sent welcome message.\"\n>       talkLoop h\n>\n>   hClose h\n>   putStrLn \"Client quit, closed handle.\"\n>\n>\n> talkLoop :: Handle -> IO ()\n> talkLoop h = do\n>   msg <- getFrame h\n>   if B.null msg\n>      then return ()\n>      else do\n>        putFrame h $ B.append msg (fromString \", MEOW!\")\n>        talkLoop h\n\nThe example above will suffice if you wish to accept any WebSocket-capable client, regardless of its origin or target. It won't suffice if you have to filter the incoming clients by the contents of their requests. For that, you can use 'getRequest' and 'putResponse', which allow you to inspect the request details /before/ you send back a response, if any.\n\nIf you have any suggestions, bug reports and\\/or fixes, feel free to send them to <mailto:sinisa@bidin.cc>.",
    "category": "Network",
    "custom-fields": [],
    "build-type-raw": "Simple",
    "custom-setup": null,
    "library": null,
    "sublibraries": [],
    "executables": [],
    "foreign-libs": [],
    "test-suites": [],
    "benchmarks": [],
    "data-files": [],
    "data-dir": ".",
    "extra-source-files": [],
    "extra-tmp-files": [],
    "extra-doc-files": []
  },
  "library": {
    "condTreeData": {
      "name": {},
      "exposed-modules": [
        [
          "Network",
          "WebSockets"
        ]
      ],
      "re-exported-modules": [],
      "signatures": [],
      "exposed": true,
      "visibility": "LibraryVisibilityPublic",
      "build-info": {
        "buildable": true,
        "buildTools": [],
        "buildToolDepends": [],
        "cppOptions": [],
        "asmOptions": [],
        "cmmOptions": [],
        "ccOptions": [],
        "cxxOptions": [],
        "ldOptions": [],
        "pkgconfigDepends": [],
        "frameworks": [],
        "extraFrameworkDirs": [],
        "asmSources": [],
        "cmmSources": [],
        "cSources": [],
        "cxxSources": [],
        "jsSources": [],
        "hsSourceDirs": [],
        "otherModules": [],
        "virtualModules": [],
        "autogenModules": [],
        "defaultLanguage": null,
        "otherLanguages": [],
        "defaultExtensions": [],
        "otherExtensions": [],
        "oldExtensions": [],
        "extraLibs": [],
        "extraGHCiLibs": [],
        "extraBundledLibs": [],
        "extraLibFlavours": [],
        "extraDynLibFlavours": [],
        "extraLibDirs": [],
        "includeDirs": [],
        "includes": [],
        "autogenIncludes": [],
        "installIncludes": [],
        "options": [
          [],
          []
        ],
        "profOptions": [
          [],
          []
        ],
        "sharedOptions": [
          [],
          []
        ],
        "staticOptions": [
          [],
          []
        ],
        "customFieldsBI": [],
        "targetBuildDepends": [
          {
            "package-name": "pureMD5",
            "version-range": ">=2.1",
            "library": [
              {}
            ]
          },
          {
            "package-name": "network",
            "version-range": ">=2.2.1.7",
            "library": [
              {}
            ]
          },
          {
            "package-name": "base",
            "version-range": "==4.*",
            "library": [
              {}
            ]
          },
          {
            "package-name": "bytestring",
            "version-range": ">=0.9",
            "library": [
              {}
            ]
          },
          {
            "package-name": "binary",
            "version-range": ">=0.5",
            "library": [
              {}
            ]
          },
          {
            "package-name": "containers",
            "version-range": ">=0.3",
            "library": [
              {}
            ]
          }
        ],
        "mixins": []
      }
    },
    "condTreeConstraints": [
      {
        "package-name": "pureMD5",
        "version-range": ">=2.1",
        "library": [
          {}
        ]
      },
      {
        "package-name": "network",
        "version-range": ">=2.2.1.7",
        "library": [
          {}
        ]
      },
      {
        "package-name": "base",
        "version-range": "==4.*",
        "library": [
          {}
        ]
      },
      {
        "package-name": "bytestring",
        "version-range": ">=0.9",
        "library": [
          {}
        ]
      },
      {
        "package-name": "binary",
        "version-range": ">=0.5",
        "library": [
          {}
        ]
      },
      {
        "package-name": "containers",
        "version-range": ">=0.3",
        "library": [
          {}
        ]
      }
    ],
    "condTreeComponents": []
  }
}
